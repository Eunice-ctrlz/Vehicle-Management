<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account | DriveFleet</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Syne:wght@400;700;800&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
    <style>
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --black: #050608;
            --dark: #0c0d10;
            --card: #111318;
            --border: #1e2128;
            --gold: #c9a84c;
            --gold-light: #e8c97a;
            --gold-dim: rgba(201, 168, 76, 0.15);
            --white: #f0ede8;
            --muted: #6b7280;
            --error: #ef4444;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--black);
            color: var(--white);
            overflow-x: hidden;
            cursor: none;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
        }

        /* Cursor System */
        .cursor { width: 10px; height: 10px; background: var(--gold); border-radius: 50%; position: fixed; pointer-events: none; z-index: 9999; }
        .cursor-follower { width: 35px; height: 35px; border: 1px solid rgba(201,168,76,0.4); border-radius: 50%; position: fixed; pointer-events: none; z-index: 9998; transition: all 0.15s ease; }

        /* FX Background */
        body::before {
            content: ''; position: fixed; inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
            pointer-events: none; z-index: 1000; opacity: 0.4;
        }
        .bg-glow { position: fixed; inset: 0; background: radial-gradient(ellipse 60% 50% at 50% 50%, rgba(201,168,76,0.06) 0%, transparent 70%); pointer-events: none; }
        .bg-grid { position: fixed; inset: 0; background-image: linear-gradient(rgba(201,168,76,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(201,168,76,0.03) 1px, transparent 1px); background-size: 60px 60px; mask-image: radial-gradient(ellipse 80% 80% at 50% 50%, black 20%, transparent 100%); pointer-events: none; }

        .auth-header { position: absolute; top: 32px; left: 60px; }
        .auth-logo { font-family: 'Bebas Neue', sans-serif; font-size: 28px; letter-spacing: 3px; color: var(--white); text-decoration: none; }
        .auth-logo span { color: var(--gold); }

        .auth-container { position: relative; z-index: 2; width: 100%; max-width: 520px; animation: fadeUp 0.8s ease forwards; }
        .auth-card { background: var(--card); border: 1px solid var(--border); padding: 56px 48px; position: relative; }
        .auth-corner { position: absolute; top: -16px; left: -16px; width: 70px; height: 70px; border: 1px solid var(--gold); opacity: 0.3; }

        .auth-tag { display: inline-flex; align-items: center; gap: 8px; padding: 6px 16px; border: 1px solid rgba(201,168,76,0.3); background: rgba(201,168,76,0.05); font-size: 10px; font-weight: 500; letter-spacing: 2.5px; text-transform: uppercase; color: var(--gold); margin-bottom: 24px; }
        .auth-tag::before { content: ''; width: 5px; height: 5px; background: var(--gold); border-radius: 50%; }

        .auth-title { font-family: 'Bebas Neue', sans-serif; font-size: 48px; letter-spacing: 2px; margin-bottom: 12px; line-height: 1; }
        .auth-subtitle { font-size: 14px; color: var(--muted); margin-bottom: 40px; line-height: 1.6; }

        /* Form Controls */
        .form-group { margin-bottom: 24px; }
        .form-label { display: block; font-size: 12px; font-weight: 500; letter-spacing: 1.5px; text-transform: uppercase; color: var(--white); margin-bottom: 10px; }
        
        /* Shared input styles */
        input[type="text"], input[type="email"], input[type="password"], input[type="tel"], select, textarea {
            width: 100%; padding: 14px 18px; background: var(--dark); border: 1px solid var(--border);
            color: var(--white); font-family: 'DM Sans', sans-serif; font-size: 14px; outline: none; transition: all 0.3s; cursor: none;
        }
        input:focus, select:focus { border-color: var(--gold); background: rgba(12,13,16,0.8); }

        /* File Upload Styling */
        input[type="file"] { display: none; }
        .form-file-label {
            display: block; width: 100%; padding: 16px; background: var(--dark); border: 1px dashed var(--border);
            color: var(--muted); font-size: 13px; text-align: center; cursor: none; transition: all 0.3s;
        }
        .form-file-label:hover { border-color: var(--gold); color: var(--gold); }
        .form-file-label.has-file { border: 1px solid var(--gold); color: var(--white); background: rgba(201,168,76,0.05); }

        /* Checkbox Logic */
        .form-checkbox-wrapper { display: flex; align-items: flex-start; gap: 12px; margin-top: 8px; }
        input[type="checkbox"] { width: 18px; height: 18px; border: 1px solid var(--border); background: var(--dark); cursor: none; flex-shrink: 0; }
        input[type="checkbox"]:checked { background: var(--gold); border-color: var(--gold); }
        .form-checkbox-label { font-size: 12px; color: var(--muted); line-height: 1.5; }

        .form-help { font-size: 11px; color: var(--muted); margin-top: 6px; }
        .form-error { font-size: 12px; color: var(--error); margin-top: 6px; }

        .btn-submit {
            width: 100%; padding: 18px; background: var(--gold); border: 1px solid var(--gold);
            color: var(--black); font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 700;
            letter-spacing: 2.5px; text-transform: uppercase; cursor: none; position: relative; overflow: hidden; transition: all 0.3s; margin-top: 10px;
        }
        .btn-submit::after { content: ''; position: absolute; inset: 0; background: var(--gold-light); transform: translateX(-100%); transition: transform 0.3s ease; }
        .btn-submit:hover::after { transform: translateX(0); }
        .btn-submit span { position: relative; z-index: 1; }

        .auth-footer { margin-top: 32px; padding-top: 28px; border-top: 1px solid var(--border); text-align: center; }
        .auth-footer-text { font-size: 13px; color: var(--muted); }
        .auth-footer-link { color: var(--gold); text-decoration: none; font-weight: 500; }

        @keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="cursor" id="cursor"></div>
<div class="cursor-follower" id="cursorFollower"></div>
<div class="bg-glow"></div>
<div class="bg-grid"></div>

<div class="auth-header">
    <a href="/" class="auth-logo">Drive<span>Fleet</span></a>
</div>

<div class="auth-container">
    <div class="auth-card">
        <div class="auth-corner"></div>
        <div class="auth-tag">Access Registration</div>
        <h1 class="auth-title">Join The Fleet</h1>
        <p class="auth-subtitle">Create your account to unlock exclusive vehicle management and luxury bookings.</p>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            {% for field in form %}
                <div class="form-group">
                    <label class="form-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
                    
                    {% if field.field.widget.input_type == 'checkbox' %}
                        <div class="form-checkbox-wrapper">
                            {{ field }}
                            <span class="form-checkbox-label">
                                {% if field.help_text %}{{ field.help_text|safe }}{% else %}I agree to the terms and conditions.{% endif %}
                            </span>
                        </div>

                    {% elif field.field.widget.input_type == 'file' %}
                        <label for="{{ field.id_for_label }}" class="form-file-label" id="label_{{ field.id_for_label }}">
                            Upload {{ field.label }} (Click to browse)
                        </label>
                        {{ field }}

                    {% else %}
                        {{ field }}
                    {% endif %}

                    {% if field.help_text and field.field.widget.input_type != 'checkbox' %}
                        <div class="form-help">{{ field.help_text|safe }}</div>
                    {% endif %}

                    {% for error in field.errors %}
                        <div class="form-error">{{ error }}</div>
                    {% endfor %}
                </div>
            {% endfor %}

            <button type="submit" class="btn-submit">
                <span>Create Account</span>
            </button>
        </form>

        <div class="auth-footer">
            <p class="auth-footer-text">
                Already have an account? 
                <a href="{% url 'accounts:login' %}" class="auth-footer-link">Sign In</a>
            </p>
        </div>
    </div>
</div>

<script>
    // 1. CURSOR ANIMATION
    const cursor = document.getElementById('cursor');
    const follower = document.getElementById('cursorFollower');
    let mouseX = 0, mouseY = 0, fx = 0, fy = 0;
    
    document.addEventListener('mousemove', e => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        cursor.style.left = mouseX - 5 + 'px';
        cursor.style.top = mouseY - 5 + 'px';
    });
    
    (function animateFollower() {
        fx += (mouseX - fx - 17) * 0.12;
        fy += (mouseY - fy - 17) * 0.12;
        follower.style.left = fx + 'px';
        follower.style.top = fy + 'px';
        requestAnimationFrame(animateFollower);
    })();

    // 2. FILE INPUT ENHANCEMENT
    document.querySelectorAll('input[type="file"]').forEach(input => {
        input.addEventListener('change', function() {
            const label = document.getElementById('label_' + this.id);
            if (this.files.length > 0) {
                label.textContent = "File: " + this.files[0].name;
                label.classList.add('has-file');
            } else {
                label.textContent = "Upload " + (this.name.charAt(0).toUpperCase() + this.name.slice(1));
                label.classList.remove('has-file');
            }
        });
    });

    
    document.querySelectorAll('input, select, textarea').forEach(el => {
        if (el.type !== 'checkbox' && el.type !== 'file' && el.type !== 'submit') {
            el.classList.add('form-input');
        }
    });
</script>

</body>
</html>